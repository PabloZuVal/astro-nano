# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is an Astro-based personal portfolio website using the Astro Nano theme. It's a static, minimalist site built with Astro, Tailwind CSS, and TypeScript with no client-side frameworks. The site showcases work experience, projects, and includes blog functionality (currently disabled).

**Key characteristics:**
- Static site generation focused on performance (100/100 Lighthouse score)
- Content-driven architecture using Astro's content collections
- Minimal dependencies, no React/Vue/Svelte runtime
- Site URL: https://pablozuniga.me/

## Commands

```bash
# Development
npm run dev              # Start dev server at localhost:4321
npm run dev:network      # Start dev server on local network

# Build & Preview
npm run build            # Type-check with astro check, then build to ./dist/
npm run preview          # Preview production build locally
npm run preview:network  # Preview build on local network

# Linting
npm run lint             # Run ESLint
npm run lint:fix         # Auto-fix ESLint issues

# Other
npm run astro            # Run Astro CLI commands
```

## Architecture

### Content Collections

The site uses three Astro content collections defined in `src/content/config.ts`:

1. **blog** (`src/content/blog/`)
   - Schema: `title`, `description`, `date`, `draft` (optional)
   - Currently disabled in homepage (see commented code in `src/pages/index.astro:10-13`)
   - Supports both Markdown (`.md`) and MDX (`.mdx`) files

2. **work** (`src/content/work/`)
   - Schema: `company`, `role`, `dateStart`, `dateEnd` (date or string like "Present")
   - Displays work experience entries
   - Content rendered inline on homepage

3. **projects** (`src/content/projects/`)
   - Schema: `title`, `description`, `date`, `draft` (optional), `demoURL`, `repoURL`
   - Showcases portfolio projects with optional links

### Configuration

- **`src/consts.ts`**: Central configuration for site metadata
  - `SITE`: Personal info (name, email), homepage item counts
  - `HOME`, `BLOG`, `WORK`, `PROJECTS`: Page metadata (title, description)
  - `SOCIALS`: Social media links array

- **`astro.config.mjs`**: Astro configuration
  - Site URL for sitemap generation
  - Integrations: MDX, Sitemap, Tailwind

### Key Components

- **`src/layouts/PageLayout.astro`**: Main layout template with Head, Header, Footer
- **`src/components/ArrowCard.astro`**: Card component for blog/project listings
- **`src/lib/utils.ts`**: Utility functions
  - `cn()`: Tailwind class merging (clsx + tailwind-merge)
  - `formatDate()`: Date formatting
  - `readingTime()`: Calculate reading time from HTML
  - `dateRange()`: Format work experience date ranges

### Routing

- **`/`** (`src/pages/index.astro`): Homepage with work experience and projects
- **`/blog`** (`src/pages/blog/index.astro`): Blog listing
- **`/blog/[...slug]`** (`src/pages/blog/[...slug].astro`): Individual blog posts
- **`/work`** (`src/pages/work/index.astro`): Work experience page
- **`/projects`** (`src/pages/projects/index.astro`): Projects listing
- **`/projects/[...slug]`** (`src/pages/projects/[...slug].astro`): Individual project pages
- **`/rss.xml`** (`src/pages/rss.xml.ts`): RSS feed generation
- **`/robots.txt`** (`src/pages/robots.txt.ts`): Robots.txt generation

### Styling

- Tailwind CSS via `@astrojs/tailwind` integration
- Custom global styles in `src/styles/global.css`
- Custom fonts in `public/fonts/` (MonaSans, Atkinson)
- Dark mode support via CSS classes
- Typography plugin (`@tailwindcss/typography`) for prose content

## Working with Content

### Adding Work Experience

Create a new `.md` file in `src/content/work/`:

```markdown
---
company: "Company Name"
role: "Job Title"
dateStart: "2023-01-01"
dateEnd: "Present"  # or a date like "2024-01-01"
---

Description of work done at this company...
```

### Adding Projects

Create a new `.md` file in `src/content/projects/`:

```markdown
---
title: "Project Name"
description: "Short description"
date: "2024-01-01"
draft: false  # Set to true to hide
demoURL: "https://demo.example.com"  # optional
repoURL: "https://github.com/user/repo"  # optional
---

Project details and content...
```

### Adding Blog Posts

Create a new `.md` or `.mdx` file in `src/content/blog/`:

```markdown
---
title: "Post Title"
description: "Post description"
date: "2024-01-01"
draft: false  # Set to true to hide
---

Blog post content...
```

Note: Blog section is currently commented out on the homepage but functional.

## Type Safety

- TypeScript configured via `tsconfig.json`
- Astro content collections provide automatic type generation
- Types defined in `src/types.ts`: `Site`, `Metadata`, `Socials`
- Content types auto-generated by Astro from schemas

## Deployment

The site is configured for deployment on Vercel or Netlify (see README badges). The build command runs type-checking before building to catch errors early.